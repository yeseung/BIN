<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ëª©ë¡ í•©ì¹˜ê¸° ë„êµ¬</title>

    <style>
        :root{
            --bg:#f5f6fb;
            --card:#ffffff;
            --text:#111;
            --muted:#666;
            --border:#c0c0c0;
            --btn:#dcdcdc;
            --btn2:#ededed;
            --shadow: 0 10px 22px rgba(0,0,0,0.08);
        }
        *{ box-sizing:border-box; }
        body{
            margin:0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
        }
        .wrap{
            max-width: 980px;
            margin: 32px auto;
            padding: 0 16px;
        }
        .hero{
            background: linear-gradient(135deg, #3f51b5 0%, #457b9d 100%);
            color:#fff;
            border-radius: 14px;
            padding: 18px;
            box-shadow: 0 10px 24px rgba(0,0,0,0.12);
            margin-bottom: 14px;
        }
        .hero h1{
            margin:0;
            font-size: 20px;
            letter-spacing: -0.3px;
        }
        .hero p{
            margin:8px 0 0 0;
            font-size: 13px;
            line-height: 1.55;
            opacity: 0.95;
        }

        .card{
            background: var(--card);
            border-radius: 14px;
            padding: 16px;
            box-shadow: var(--shadow);
        }

        .row{
            display:flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            margin: 10px 0;
        }

        label{
            font-weight: 800;
            font-size: 14px;
        }
        select{
            padding: 8px 10px;
            border: 3px inset var(--border);
            border-radius: 10px;
            background:#fff;
            outline:none;
        }

        .checkbox{
            display:flex;
            gap:8px;
            align-items:center;
            font-size: 14px;
            font-weight: 700;
            user-select:none;
        }

        .grid{
            display:grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
            margin-top: 12px;
        }
        @media (max-width: 860px){
            .grid{ grid-template-columns: 1fr; }
        }

        textarea{
            width:100%;
            min-height: 220px;
            padding: 12px;
            border: 3px inset var(--border);
            border-radius: 12px;
            font-size: 14px;
            outline:none;
            resize: vertical;
            background:#fff;
        }
        textarea:focus{
            box-shadow: 0 0 0 3px rgba(63,81,181,0.18);
            border-color: #b8c2ff;
        }

        .btn{
            appearance:none;
            border: 3px outset var(--border);
            background: var(--btn);
            color:#000;
            padding: 10px 14px;
            cursor:pointer;
            font-weight: 900;
            border-radius: 10px;
            transition: transform .06s ease, filter .12s ease;
            user-select: none;
            white-space: nowrap;
        }
        .btn:hover{ filter: brightness(1.05); }
        .btn:active{ border-style: inset; transform: translateY(1px); }

        .btn-green{ background:#dff7e6; border-color:#b7d8c0; }
        .btn-red{ background:#ffe3e3; border-color:#e0b1b1; }

        .result{
            margin-top: 12px;
            min-height: 260px;
        }

        .mini{
            font-size: 12px;
            color: var(--muted);
            line-height: 1.55;
            margin-top: 6px;
        }

        .kbd{
            display:inline-block;
            border:1px solid rgba(255,255,255,0.5);
            border-bottom-width:2px;
            padding:2px 6px;
            border-radius: 6px;
            font-weight: 900;
            background: rgba(255,255,255,0.14);
        }
    </style>
</head>

<body>
<div class="wrap">
    <div class="hero">
        <h1>ğŸ”€ ëª©ë¡ í•©ì¹˜ê¸° ë„êµ¬</h1>
        <p>
            ê° ëª©ë¡ì˜ í•­ëª©ë“¤ì„ ë²ˆê°ˆì•„ í•©ì¹©ë‹ˆë‹¤.<br>
            ì˜ˆ: ëª©ë¡1 (A,B,C) + ëª©ë¡2 (1,2,3) â†’ ê²°ê³¼ (A,1,B,2,C,3)<br>
            ë‹¨ì¶•í‚¤: <span class="kbd">Ctrl</span> / <span class="kbd">âŒ˜</span> + <span class="kbd">Enter</span> ë¡œ í•©ì¹˜ê¸°
        </p>
    </div>

    <div class="card">
        <div class="row">
            <label for="delimiter">êµ¬ë¶„ì</label>
            <select id="delimiter">
                <option value="newline" selected>ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„</option>
                <option value="space">ê³µë°±ìœ¼ë¡œ êµ¬ë¶„</option>
                <option value=",">ì½¤ë§ˆ(,)ë¡œ êµ¬ë¶„</option>
                <option value="tab">íƒ­ìœ¼ë¡œ êµ¬ë¶„</option>
            </select>

            <label for="remainder" style="margin-left:6px;">ë‚¨ëŠ” í•­ëª© ì²˜ë¦¬</label>
            <select id="remainder">
                <option value="append" selected>ì´ì–´ë¶™ì´ê¸° (ê¸°ë³¸)</option>
                <option value="ignore">ë¬´ì‹œ</option>
            </select>

            <label class="checkbox" style="margin-left:6px;">
                <input type="checkbox" id="trim" checked>
                ê³µë°±/ë¹ˆ ì¤„ ì œê±°
            </label>
        </div>

        <div class="grid">
            <div>
                <label for="left">ëª©ë¡ 1</label>
                <textarea id="left" placeholder="ê° í•­ëª©ì„ êµ¬ë¶„ìì— ë”°ë¼ ë‚˜ëˆ„ì–´ ì…ë ¥í•˜ì„¸ìš”"></textarea>
            </div>
            <div>
                <label for="right">ëª©ë¡ 2</label>
                <textarea id="right" placeholder="ê° í•­ëª©ì„ êµ¬ë¶„ìì— ë”°ë¼ ë‚˜ëˆ„ì–´ ì…ë ¥í•˜ì„¸ìš”"></textarea>
            </div>
        </div>

        <div class="row" style="margin-top: 12px;">
            <button class="btn" id="mergeBtn" type="button">í•©ì¹˜ê¸°</button>
            <button class="btn btn-green" id="copyBtn" type="button">ë³µì‚¬</button>
            <button class="btn" id="downloadBtn" type="button">íŒŒì¼ë¡œ ì €ì¥ (.txt)</button>
            <button class="btn btn-red" id="clearBtn" type="button">ì´ˆê¸°í™”</button>
        </div>

        <textarea id="result" class="result" readonly placeholder="ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤"></textarea>
        <div class="mini">
            â€» êµ¬ë¶„ìëŠ” â€œì…ë ¥ íŒŒì‹±â€ì— ì‚¬ìš©ë©ë‹ˆë‹¤. (ì¤„ë°”ê¿ˆ/ê³µë°±/ì½¤ë§ˆ/íƒ­) <br>
            â€» ê²°ê³¼ëŠ” ì„ íƒí•œ êµ¬ë¶„ìë¡œ í•©ì³ ì¶œë ¥ë©ë‹ˆë‹¤.
        </div>
    </div>
</div>

<script>
    const leftEl = document.getElementById('left');
    const rightEl = document.getElementById('right');
    const resEl = document.getElementById('result');

    const mergeBtn = document.getElementById('mergeBtn');
    const copyBtn = document.getElementById('copyBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const clearBtn = document.getElementById('clearBtn');

    function normalizeDelimiter(value){
        if (value === 'newline') return '\n';
        if (value === 'space') return ' ';
        if (value === 'tab') return '\t';
        // ',' ê°™ì€ ë‹¨ì¼ ë¬¸ì
        return value;
    }

    // ì…ë ¥ í…ìŠ¤íŠ¸ë¥¼ "ì„ íƒëœ êµ¬ë¶„ì" ê¸°ì¤€ìœ¼ë¡œ í•­ëª© ë°°ì—´ë¡œ ë³€í™˜
    function parseItems(text, delimiterKey, doTrim){
        const d = normalizeDelimiter(delimiterKey);
        let arr;

        if (delimiterKey === 'newline') {
            arr = text.split(/\r?\n/);
        } else if (delimiterKey === 'space') {
            // ê³µë°±(ì—°ì† í¬í•¨) ê¸°ë°˜
            arr = text.split(/\s+/);
        } else if (delimiterKey === 'tab') {
            arr = text.split('\t');
        } else {
            // ì½¤ë§ˆ ë“± ë‹¨ì¼ ë¬¸ì
            arr = text.split(d);
        }

        if (!doTrim) return arr;

        return arr
        .map(s => String(s).trim())
        .filter(s => s.length > 0);
    }

    function interleave(a, b, joinDelim, remainderMode){
        const out = [];

        if (remainderMode === 'ignore') {
            const min = Math.min(a.length, b.length);
            for (let i = 0; i < min; i++) {
                out.push(a[i], b[i]);
            }
            return out.join(joinDelim);
        }

        // append (ê¸°ë³¸): ë‚¨ëŠ” í•­ëª©ë„ ê·¸ëŒ€ë¡œ í¬í•¨
        const max = Math.max(a.length, b.length);
        for (let i = 0; i < max; i++) {
            if (i < a.length) out.push(a[i]);
            if (i < b.length) out.push(b[i]);
        }
        return out.join(joinDelim);
    }

    function doMerge(){
        const trim = document.getElementById('trim').checked;
        const delimKey = document.getElementById('delimiter').value;
        const remainder = document.getElementById('remainder').value;

        const left = parseItems(leftEl.value, delimKey, trim);
        const right = parseItems(rightEl.value, delimKey, trim);

        if (left.length === 0 && right.length === 0) {
            resEl.value = '';
            return;
        }

        const joinDelim = normalizeDelimiter(delimKey);
        resEl.value = interleave(left, right, joinDelim, remainder);
    }

    mergeBtn.addEventListener('click', doMerge);

    copyBtn.addEventListener('click', async () => {
        const text = resEl.value;
        if (!text) return alert('ë³µì‚¬í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');

        try{
            await navigator.clipboard.writeText(text);
            const prev = copyBtn.textContent;
            copyBtn.textContent = 'ë³µì‚¬ë¨';
            setTimeout(() => copyBtn.textContent = prev, 1200);
        }catch(e){
            // fallback
            resEl.focus();
            resEl.select();
            document.execCommand('copy');
            alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
    });

    downloadBtn.addEventListener('click', () => {
        const text = resEl.value;
        if (!text) return alert('ì €ì¥í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');

        const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = 'merged-list.txt';
        document.body.appendChild(a);
        a.click();
        a.remove();

        URL.revokeObjectURL(url);
    });

    clearBtn.addEventListener('click', () => {
        leftEl.value = '';
        rightEl.value = '';
        resEl.value = '';
        leftEl.focus();
    });

    document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
            doMerge();
        }
    });
</script>
</body>
</html>
