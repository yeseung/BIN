<!-- case-converter.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ëŒ€ì†Œë¬¸ì ë³€í™˜ê¸° - CapsLock ì‹¤ìˆ˜ ë³µêµ¬</title>

    <!-- ì•„ì´ì½˜(ì„ íƒ) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>

    <style>
        * { box-sizing: border-box; }
        body{
            margin:0; padding:24px;
            font-family:-apple-system,BlinkMacSystemFont,"Malgun Gothic",system-ui,sans-serif;
            background:#f4f5f7; color:#111827;
        }
        .page{ max-width:1100px; margin:0 auto; }

        .hero{
            text-align:center;
            margin: 10px 0 18px;
        }
        .hero h1{
            margin:0 0 8px;
            font-size:26px;
            font-weight:900;
            line-height:1.35;
        }
        .hero p{
            margin:0;
            font-size:14px;
            color:#6b7280;
            line-height:1.6;
        }

        .card{
            background:#fff;
            border-radius:18px;
            padding:18px 20px 20px;
            box-shadow:0 10px 30px rgba(15,23,42,0.08);
        }

        .textarea-wrap{
            position:relative;
            margin-top:14px;
        }
        textarea{
            width:100%;
            min-height:240px;
            resize:vertical;
            border-radius:14px;
            border:1px solid #e5e7eb;
            background:#f9fafb;
            padding:12px 14px 30px;
            font-family: Menlo, Consolas, "SF Mono", monospace;
            font-size:14px;
            line-height:1.6;
            outline:none;
            transition: border-color .15s, box-shadow .15s, background .15s;
        }
        textarea:focus{
            border-color:#2563eb;
            box-shadow:0 0 0 1px #2563eb22;
            background:#fff;
        }

        .meta{
            position:absolute;
            right:12px;
            bottom:8px;
            display:flex;
            gap:10px;
            align-items:center;
            font-size:11px;
            color:#9ca3af;
            user-select:none;
        }
        .pill{
            background:#eef2ff;
            color:#3730a3;
            border:1px solid #e0e7ff;
            border-radius:999px;
            padding:2px 8px;
            font-weight:700;
            font-size:11px;
        }

        .btn-grid{
            margin-top:14px;
            display:flex;
            flex-wrap:wrap;
            gap:8px;
            justify-content:center;
        }

        .btn{
            border:none;
            border-radius:999px;
            padding:9px 14px;
            font-size:13px;
            cursor:pointer;
            display:inline-flex;
            align-items:center;
            gap:7px;
            background:#e5e7eb;
            color:#374151;
            transition: background .15s, transform .05s, box-shadow .15s;
            white-space:nowrap;
        }
        .btn:hover{ background:#d1d5db; }
        .btn:active{ transform: translateY(1px); }

        .btn.primary{
            background:#2563eb;
            color:#fff;
            box-shadow:0 2px 6px rgba(37,99,235,.45);
        }
        .btn.primary:hover{ background:#1d4ed8; }

        .btn.success{
            background:#16a34a;
            color:#fff;
            box-shadow:0 2px 6px rgba(22,163,74,.35);
        }
        .btn.success:hover{ background:#15803d; }

        .btn.danger{
            background:#ef4444;
            color:#fff;
            box-shadow:0 2px 6px rgba(239,68,68,.35);
        }
        .btn.danger:hover{ background:#dc2626; }

        .toast{
            position: fixed;
            left: 50%;
            bottom: 18px;
            transform: translateX(-50%);
            background: rgba(17,24,39,0.92);
            color: #fff;
            padding: 10px 14px;
            border-radius: 999px;
            font-size: 13px;
            display:none;
            z-index: 9999;
        }

        @media (max-width: 640px){
            body{ padding:16px; }
            .hero h1{ font-size:20px; }
            textarea{ min-height:200px; }
        }
    </style>
</head>
<body>
<div class="page">
    <div class="hero">
        <h1>ëŒ€ë¬¸ì ì ê¸ˆì„ ì¼  ì±„ë¡œ ì‘ì„±í–ˆë‚˜ìš”? <br/>ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ì§€ ë§ê³  ë°”ë¡œ ë³€í™˜í•˜ì„¸ìš”.</h1>
        <p>ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ì›í•˜ëŠ” ëŒ€ì†Œë¬¸ì í˜•ì‹ì„ ì„ íƒí•´ í•œ ë²ˆì— ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    </div>

    <div class="card">
        <div class="textarea-wrap">
            <textarea id="textArea" aria-label="í…ìŠ¤íŠ¸" placeholder="ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."></textarea>
            <div class="meta">
                <span class="pill" id="charCount">0 ê¸€ì</span>
                <span id="byteCount">0 Bytes</span>
            </div>
        </div>

        <div class="btn-grid">
            <button class="btn" data-action="sentence"><i class="bi bi-text-paragraph"></i>ë¬¸ì¥ í˜•ì‹</button>
            <button class="btn" data-action="lower"><i class="bi bi-type-lowercase"></i>ì†Œë¬¸ì</button>
            <button class="btn" data-action="upper"><i class="bi bi-type-uppercase"></i>ëŒ€ë¬¸ì</button>
            <button class="btn" data-action="capitalized"><i class="bi bi-fonts"></i>ì²« ë¬¸ì ëŒ€ë¬¸ì</button>
            <button class="btn" data-action="alternating"><i class="bi bi-intersect"></i>ëŒ€ì†Œë¬¸ì êµì°¨</button>
            <button class="btn" data-action="title"><i class="bi bi-card-text"></i>ì œëª© í˜•ì‹</button>
            <button class="btn" data-action="inverse"><i class="bi bi-arrow-repeat"></i>ì—­ ëŒ€ì†Œë¬¸ì</button>
            <button class="btn" data-action="random"><i class="bi bi-shuffle"></i>ë¬´ì‘ìœ„ ëŒ€ì†Œë¬¸ì</button>
            <button class="btn" data-action="upside-down"><i class="bi bi-arrow-down-up"></i>ê±°ê¾¸ë¡œ</button>
            <button class="btn" data-action="reverse"><i class="bi bi-arrow-left-right"></i>ì—­ìˆœ ë¬¸ì</button>

            <button class="btn success" id="btnCopy"><i class="bi bi-clipboard-check"></i>í…ìŠ¤íŠ¸ ë³µì‚¬</button>
            <button class="btn danger" id="btnClear"><i class="bi bi-trash"></i>ì§€ìš°ê¸°</button>
        </div>
    </div>
</div>

<div class="toast" id="toast"></div>

<script>
    (() => {
        const textArea = document.getElementById("textArea");
        const charCount = document.getElementById("charCount");
        const byteCount = document.getElementById("byteCount");
        const toast = document.getElementById("toast");

        function showToast(msg) {
            toast.textContent = msg;
            toast.style.display = "block";
            clearTimeout(showToast._t);
            showToast._t = setTimeout(() => (toast.style.display = "none"), 1600);
        }

        function bytesOf(str) {
            return new Blob([str]).size; // UTF-8 ê¸°ì¤€
        }

        function updateCounters() {
            const t = textArea.value || "";
            charCount.textContent = `${t.length} ê¸€ì`;
            byteCount.textContent = `${bytesOf(t)} Bytes`;
        }

        function convert(type) {
            let text = textArea.value || "";

            switch (type) {
                case "sentence":
                    // ë¬¸ì¥ ì‹œì‘(ë¬¸ì¥ë¶€í˜¸ ë’¤) ì²« ê¸€ìë§Œ ëŒ€ë¬¸ì
                    text = text.toLowerCase();
                    text = text.replace(/(^|[.\!\?]\s*)([^\s])/g, (m, p1, p2) => p1 + p2.toUpperCase());
                    break;

                case "lower":
                    text = text.toLowerCase();
                    break;

                case "upper":
                    text = text.toUpperCase();
                    break;

                case "capitalized":
                    // ê° ë‹¨ì–´ ì²« ê¸€ì ëŒ€ë¬¸ì
                    text = text.toLowerCase().replace(/(^|\s+)([^\s])/g, (m, p1, p2) => p1 + p2.toUpperCase());
                    break;

                case "alternating": {
                    // ê³µë°± ì œì™¸ ê¸€ì ê¸°ì¤€ìœ¼ë¡œ êµì°¨
                    let isLower = true;
                    text = text.split("").map(ch => {
                        if (/\S/.test(ch)) {
                            const out = isLower ? ch.toLowerCase() : ch.toUpperCase();
                            isLower = !isLower;
                            return out;
                        }
                        return ch;
                    }).join("");
                    break;
                }

                case "title":
                    // ì œëª© í˜•ì‹(ê°„ë‹¨ ë²„ì „: ê° ë‹¨ì–´ ì²« ê¸€ì ëŒ€ë¬¸ì)
                    text = text.toLowerCase().replace(/(^|\s)([^\s])/g, (m, p1, p2) => p1 + p2.toUpperCase());
                    break;

                case "random":
                    text = text.split("").map(ch => (Math.random() > 0.5 ? ch.toUpperCase() : ch.toLowerCase())).join("");
                    break;

                case "upside-down": {
                    const map = {
                        a:"É", b:"q", c:"É”", d:"p", e:"Ç", f:"ÉŸ", g:"Æƒ", h:"É¥", i:"á´‰", j:"É¾", k:"Ê", l:"l", m:"É¯",
                        n:"u", o:"o", p:"d", q:"b", r:"É¹", s:"s", t:"Ê‡", u:"n", v:"ÊŒ", w:"Ê", x:"x", y:"Ê", z:"z",
                        A:"âˆ€", B:"ğ’", C:"Æ†", D:"á—¡", E:"Æ", F:"â„²", G:"â…", H:"H", I:"I", J:"Å¿", K:"â‹Š", L:"â…‚", M:"W",
                        N:"N", O:"O", P:"Ô€", Q:"Q", R:"Ğ¯", S:"S", T:"âŠ¥", U:"âˆ©", V:"Î›", W:"M", X:"X", Y:"â…„", Z:"Z",
                        1:"Æ–", 2:"á„…", 3:"Æ", 4:"ã„£", 5:"Ï›", 6:"9", 7:"ã„¥", 8:"8", 9:"6", 0:"0",
                        ".":"Ë™", ",":"'", "?":"Â¿", "!":"Â¡", "'":",",
                        "(" : ")", ")" : "(",
                        "[" : "]", "]" : "[",
                        "{" : "}", "}" : "{",
                        "<" : ">", ">" : "<",
                        "&":"â…‹", "_":"â€¾"
                    };
                    text = text.split("").map(ch => map[ch] || ch).reverse().join("");
                    break;
                }

                case "reverse":
                    text = text.split("").reverse().join("");
                    break;

                case "inverse":
                    text = text.split("").map(ch => (ch === ch.toUpperCase() ? ch.toLowerCase() : ch.toUpperCase())).join("");
                    break;

                default:
                    return;
            }

            textArea.value = text;
            updateCounters();
        }

        async function copyText() {
            const text = textArea.value || "";
            if (!text) {
                showToast("ë³µì‚¬í•  í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.");
                return;
            }

            // ìµœì‹  ë°©ì‹ ìš°ì„ 
            if (navigator.clipboard && navigator.clipboard.writeText) {
                try {
                    await navigator.clipboard.writeText(text);
                    showToast("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
                    return;
                } catch (e) {
                    // fallbackìœ¼ë¡œ ì§„í–‰
                }
            }

            // fallback (êµ¬í˜• ë¸Œë¼ìš°ì €)
            textArea.select();
            document.execCommand("copy");
            textArea.setSelectionRange(textArea.value.length, textArea.value.length);
            showToast("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }

        function clearText() {
            textArea.value = "";
            updateCounters();
            textArea.focus();
            showToast("ë‚´ìš©ì„ ì§€ì› ìŠµë‹ˆë‹¤.");
        }

        // ì´ë²¤íŠ¸: ë²„íŠ¼ë“¤
        document.querySelectorAll("[data-action]").forEach(btn => {
            btn.addEventListener("click", () => convert(btn.getAttribute("data-action")));
        });

        document.getElementById("btnCopy").addEventListener("click", copyText);
        document.getElementById("btnClear").addEventListener("click", clearText);

        // ì¹´ìš´í„°
        textArea.addEventListener("input", updateCounters);
        updateCounters();
    })();
</script>
</body>
</html>
