<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Case Converter</title>
    <style>
        :root{
            --bg:#f6f7fb;
            --card:#ffffff;
            --text:#111827;
            --muted:#6b7280;
            --border:#e5e7eb;
            --shadow:0 10px 30px rgba(17,24,39,.06);
            --radius:14px;
            --radius-sm:12px;
            --focus:0 0 0 4px rgba(59,130,246,.18);
            --btn:#111827;
            --btnText:#ffffff;
        }
        *{ box-sizing:border-box; }
        body{
            margin:0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
            color:var(--text);
            background:var(--bg);
        }
        .wrap{
            max-width: 1200px;
            margin: 28px auto;
            padding: 0 18px 40px;
        }
        header{
            display:flex;
            gap:12px;
            align-items:flex-end;
            justify-content:space-between;
            margin-bottom: 14px;
        }
        .titleBox h1{
            font-size: 22px;
            margin:0;
            letter-spacing:-.02em;
        }
        .titleBox p{
            margin:6px 0 0;
            font-size: 13px;
            color:var(--muted);
        }

        .panel{
            background:var(--card);
            border:1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 16px;
        }

        .label{
            font-size: 13px;
            font-weight: 650;
            margin: 0 0 10px;
            color:#0f172a;
        }

        .inputArea textarea{
            width:100%;
            min-height: 180px;
            resize: vertical;
            border-radius: 14px;
            border:1px solid var(--border);
            padding: 14px 14px;
            font-size: 15px;
            outline:none;
            background:#fbfbfe;
            transition: box-shadow .15s ease, border-color .15s ease;
            line-height: 1.55;
        }
        .inputArea textarea:focus{
            border-color: rgba(59,130,246,.55);
            box-shadow: var(--focus);
            background:#fff;
        }

        .topActions{
            display:flex;
            gap:10px;
            align-items:center;
            margin-top: 10px;
        }

        .btn{
            display:inline-flex;
            align-items:center;
            gap:8px;
            padding: 10px 12px;
            border-radius: 999px;
            border:1px solid var(--border);
            background:#fff;
            color: var(--text);
            cursor:pointer;
            font-weight: 650;
            font-size: 13px;
            transition: transform .05s ease, background .15s ease, border-color .15s ease;
            user-select:none;
        }
        .btn:hover{ background:#f3f4f6; }
        .btn:active{ transform: translateY(1px); }
        .btn svg{ width:16px; height:16px; opacity:.9; }

        .grid{
            margin-top: 16px;
            display:grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 14px;
        }
        @media (max-width: 860px){
            .grid{ grid-template-columns: 1fr; }
            header{ align-items:flex-start; flex-direction:column; }
        }

        .card{
            background: var(--card);
            border:1px solid var(--border);
            border-radius: var(--radius-sm);
            box-shadow: 0 6px 18px rgba(17,24,39,.05);
            padding: 14px;
            position: relative;
            overflow:hidden;
        }
        .cardHeader{
            display:flex;
            justify-content:space-between;
            align-items:flex-start;
            gap:10px;
            margin-bottom: 8px;
        }
        .cardTitle{
            display:flex;
            flex-direction:column;
            gap:2px;
            min-width:0;
        }
        .cardTitle b{
            font-size: 14px;
            letter-spacing:-.01em;
        }
        .cardTitle small{
            color: var(--muted);
            font-size: 12px;
            overflow:hidden;
            text-overflow:ellipsis;
            white-space:nowrap;
            max-width: 520px;
        }

        .copyBtn{
            border:1px solid var(--border);
            background:#fff;
            color: var(--text);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            cursor:pointer;
            transition: background .15s ease, transform .05s ease;
            flex: 0 0 auto;
        }
        .copyBtn:hover{ background:#f3f4f6; }
        .copyBtn:active{ transform: translateY(1px); }
        .copyBtn svg{ width:18px; height:18px; opacity:.9; }

        .out{
            border-radius: 12px;
            border:1px solid var(--border);
            padding: 12px 12px;
            background:#fbfbfe;
            font-size: 14px;
            line-height: 1.55;
            min-height: 48px;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .toast{
            position: fixed;
            left: 50%;
            bottom: 18px;
            transform: translateX(-50%);
            background: rgba(17,24,39,.92);
            color:#fff;
            padding: 10px 14px;
            border-radius: 999px;
            font-size: 13px;
            opacity: 0;
            pointer-events:none;
            transition: opacity .2s ease, transform .2s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,.18);
        }
        .toast.show{
            opacity: 1;
            transform: translateX(-50%) translateY(-6px);
        }
    </style>
</head>
<body>
<div class="wrap">
    <header>
        <div class="titleBox">
            <h1>대소문자 변환 도구</h1>
            <p>텍스트를 다양한 케이스 형식으로 변환해보세요.</p>
        </div>
    </header>

    <section class="panel inputArea">
        <div class="label">입력 텍스트</div>
        <textarea id="input" placeholder="변환할 텍스트를 입력해주세요"></textarea>

        <div class="topActions">
            <button class="btn" id="btnClear" type="button" title="텍스트 지우기">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M4 7h16M10 11v7M14 11v7M6 7l1 14c.06.83.75 1.5 1.58 1.5h6.84c.83 0 1.52-.67 1.58-1.5L18 7M9 7V4.8c0-.44.36-.8.8-.8h4.4c.44 0 .8.36.8.8V7"
                          stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
                </svg>
                초기화
            </button>
        </div>
    </section>

    <section class="grid" id="grid">
        <!-- JS로 카드 렌더 -->
    </section>
</div>

<div class="toast" id="toast">복사되었습니다</div>

<script>
    // ---------- Utils ----------
    const $ = (sel) => document.querySelector(sel);

    function showToast(msg="복사되었습니다"){
        const t = $("#toast");
        t.textContent = msg;
        t.classList.add("show");
        clearTimeout(showToast._timer);
        showToast._timer = setTimeout(() => t.classList.remove("show"), 1200);
    }

    function copyToClipboard(text){
        // 최신 브라우저
        if (navigator.clipboard && window.isSecureContext){
            return navigator.clipboard.writeText(text);
        }
        // 폴백
        return new Promise((resolve, reject) => {
            const ta = document.createElement("textarea");
            ta.value = text;
            ta.style.position = "fixed";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            try {
                document.execCommand("copy");
                resolve();
            } catch(e){
                reject(e);
            } finally {
                ta.remove();
            }
        });
    }

    // 입력 텍스트를 "단어 토큰"으로 분해
    // - 공백/기호/언더스코어/하이픈 기준 분리
    // - camelCase / PascalCase도 분해
    // - 숫자도 토큰으로 유지
    function splitTokens(str){
        if (!str) return [];

        // 줄바꿈/탭 -> 공백
        let s = String(str).replace(/[\t\r\n]+/g, " ").trim();
        if (!s) return [];

        // 1) 구분자(공백, _, -, . , :, / 등) -> 공백
        s = s.replace(/[·•]/g, " ");
        s = s.replace(/[_\-.,:;\\/|(){}\[\]<>!?@#$%^&*+=~`"']/g, " ");

        // 2) camelCase 경계에 공백 삽입 (예: helloWorld -> hello World)
        //    - 소문자/숫자 뒤 대문자
        s = s.replace(/([a-z0-9])([A-Z])/g, "$1 $2");
        //    - 대문자 연속 + 다음 소문자 (예: JSONData -> JSON Data)
        s = s.replace(/([A-Z]+)([A-Z][a-z])/g, "$1 $2");

        // 3) 다중 공백 정리 후 토큰화
        s = s.replace(/\s+/g, " ").trim();
        return s ? s.split(" ") : [];
    }

    function lowerCaseAll(str){ return String(str).toLowerCase(); }
    function upperCaseAll(str){ return String(str).toUpperCase(); }

    function titleCase(tokens){
        return tokens.map(w => {
            if (!w) return "";
            const lower = w.toLowerCase();
            return lower.charAt(0).toUpperCase() + lower.slice(1);
        }).join(" ");
    }

    function pascalCase(tokens){
        return tokens.map(w => {
            const lower = w.toLowerCase();
            return lower ? (lower.charAt(0).toUpperCase() + lower.slice(1)) : "";
        }).join("");
    }

    function camelCase(tokens){
        if (!tokens.length) return "";
        const first = tokens[0].toLowerCase();
        const rest = tokens.slice(1).map(w => {
            const lower = w.toLowerCase();
            return lower ? (lower.charAt(0).toUpperCase() + lower.slice(1)) : "";
        }).join("");
        return first + rest;
    }

    function snakeCase(tokens){
        return tokens.map(w => w.toLowerCase()).join("_");
    }

    function kebabCase(tokens){
        return tokens.map(w => w.toLowerCase()).join("-");
    }

    function spacedLower(tokens){
        return tokens.map(w => w.toLowerCase()).join(" ");
    }

    function toSentenceCase(tokens){
        // 문장 느낌: 첫 글자만 대문자, 나머지 소문자
        const s = tokens.map(w => w.toLowerCase()).join(" ");
        if (!s) return "";
        return s.charAt(0).toUpperCase() + s.slice(1);
    }

    // ---------- UI ----------
    const CASES = [
        { key:"lower",  title:"소문자",      example:"hello world",  make:(raw, t)=> spacedLower(t) },
        { key:"upper",  title:"대문자",      example:"HELLO WORLD",  make:(raw)=> upperCaseAll(raw) },
        { key:"title",  title:"제목 케이스", example:"Hello World",  make:(raw, t)=> titleCase(t) },
        { key:"camel",  title:"카멜 케이스", example:"helloWorld",   make:(raw, t)=> camelCase(t) },
        { key:"pascal", title:"파스칼 케이스", example:"HelloWorld", make:(raw, t)=> pascalCase(t) },
        { key:"snake",  title:"스네이크 케이스", example:"hello_world", make:(raw, t)=> snakeCase(t) },
        { key:"kebab",  title:"케밥 케이스", example:"hello-world", make:(raw, t)=> kebabCase(t) },
        { key:"sent",   title:"센텐스 케이스", example:"Hello world", make:(raw, t)=> toSentenceCase(t) },
    ];

    function cardTemplate(item){
        return `
        <article class="card" data-key="${item.key}">
          <div class="cardHeader">
            <div class="cardTitle">
              <b>${item.title}</b>
              <small>${item.example}</small>
            </div>
            <button class="copyBtn" type="button" title="복사" aria-label="복사">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 9h10v10H9V9Z" stroke="currentColor" stroke-width="1.7" />
                <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1"
                      stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
          <div class="out" id="out-${item.key}">결과가 여기에 표시됩니다</div>
        </article>
      `;
    }

    function renderCards(){
        const grid = $("#grid");
        grid.innerHTML = CASES.map(cardTemplate).join("");
    }

    function updateAll(){
        const raw = $("#input").value || "";
        const tokens = splitTokens(raw);

        CASES.forEach(c => {
            const out = $("#out-" + c.key);
            const val = raw.trim()
                ? (c.make(raw, tokens) || "")
                : "";
            out.textContent = val ? val : "결과가 여기에 표시됩니다";
            out.dataset.value = val; // copy용
        });
    }

    function bindEvents(){
        $("#input").addEventListener("input", updateAll);

        $("#btnClear").addEventListener("click", () => {
            $("#input").value = "";
            updateAll();
            $("#input").focus();
        });

        $("#grid").addEventListener("click", async (e) => {
            const btn = e.target.closest(".copyBtn");
            if (!btn) return;

            const card = e.target.closest(".card");
            const out = card.querySelector(".out");
            const text = out?.dataset?.value || "";

            if (!text){
                showToast("복사할 내용이 없습니다");
                return;
            }

            try{
                await copyToClipboard(text);
                showToast("복사되었습니다");
            }catch(err){
                showToast("복사 실패");
                console.error(err);
            }
        });
    }

    // Init
    renderCards();
    bindEvents();
    updateAll();
</script>
</body>
</html>
