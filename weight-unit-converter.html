<!-- File: weight-unit-converter.html -->
<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Weight Unit Converter</title>
    <meta name="description" content="ë¬´ê²Œ ë‹¨ìœ„(pg~Gt, gr~st, ëˆ~ê´€, ct) í™˜ì‚° ë³€í™˜ê¸°" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg:#f6f7fb;
            --card:#ffffff;
            --text:#111827;
            --muted:#6b7280;

            --line:#e6e8f0;
            --shadow:0 14px 40px rgba(17,24,39,.10);
            --radius:18px;

            --btn-a:#7c3aed; /* violet */
            --btn-b:#2563eb; /* blue */

            --tip-bg:#eaf6f2;
            --tip-line:#c8eadf;

            --danger:#ef4444;
            --code-bg:#f3f4f6;
        }

        *{ box-sizing:border-box; }
        body{
            margin:0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
        }

        .wrap{
            max-width: 940px;
            margin: 0 auto;
            padding: 26px 16px 48px;
        }

        .card{
            background: var(--card);
            border: 1px solid var(--line);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .header{
            padding: 22px 22px 14px;
            border-bottom: 1px solid var(--line);
        }

        h1{
            margin:0 0 8px;
            font-size: 22px;
            font-weight: 900;
            letter-spacing: -0.3px;
        }

        .sub{
            margin:0;
            color: var(--muted);
            font-size: 14px;
            line-height: 1.7;
        }

        .content{ padding: 18px 22px 22px; }

        .tip{
            background: var(--tip-bg);
            border: 1px solid var(--tip-line);
            border-radius: 14px;
            padding: 12px 14px;
            margin-bottom: 14px;
        }
        .tip .title{
            margin:0 0 8px;
            font-weight: 900;
            color:#0f766e;
        }
        .tip ul{
            margin:0;
            padding-left: 18px;
            color:#134e4a;
            font-size: 14px;
        }
        .tip li{ margin: 6px 0; }
        .tip code{
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 8px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 13px;
        }

        .panel{
            border: 1px solid rgba(17,24,39,.08);
            background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.70));
            border-radius: 16px;
            box-shadow: 0 12px 30px rgba(17,24,39,.06);
            padding: 14px;
        }

        .grid{
            display:grid;
            grid-template-columns: 1fr 1.1fr;
            gap: 12px;
            align-items: start;
        }
        @media (max-width: 860px){
            .grid{ grid-template-columns: 1fr; }
        }

        .field{
            display:flex;
            flex-direction: column;
            gap: 6px;
            margin-bottom: 10px;
        }
        .field label{
            font-size: 13px;
            font-weight: 900;
            color:#374151;
        }

        input[type="number"], select{
            width:100%;
            border-radius: 14px;
            border: 1px solid rgba(17,24,39,.14);
            background:#fff;
            padding: 12px 12px;
            font-size: 14px;
            outline:none;
            transition: box-shadow .15s ease, border-color .15s ease;
        }
        input[type="number"]:focus, select:focus{
            border-color: rgba(124,58,237,.35);
            box-shadow: 0 0 0 4px rgba(124,58,237,.12);
        }

        .result{
            border-radius: 16px;
            border: 1px solid rgba(17,24,39,.10);
            background: #ffffff;
            padding: 12px 12px;
            min-height: 360px;
            line-height: 1.75;
            font-size: 14px;
            overflow:auto;
        }

        .muted{
            color: var(--muted);
            font-size: 12px;
            line-height: 1.5;
            margin-top: 8px;
        }

        .row{
            display:flex;
            align-items:center;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .badge{
            display:inline-flex;
            align-items:center;
            gap: 8px;
            font-size: 12px;
            color: var(--muted);
            font-weight: 800;
        }
        .dot{
            width: 8px; height: 8px; border-radius: 999px;
            background:#22c55e;
            box-shadow: 0 0 0 4px rgba(34,197,94,.12);
        }

        .btn{
            appearance:none;
            border-radius: 14px;
            padding: 10px 14px;
            font-weight: 900;
            font-size: 13px;
            cursor:pointer;
            border: 1px solid rgba(17,24,39,.10);
            transition: transform .08s ease, filter .15s ease;
            user-select: none;
            background: linear-gradient(135deg, var(--btn-a), var(--btn-b));
            color:#fff;
            box-shadow: 0 10px 20px rgba(37,99,235,.14);
        }
        .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
        .btn:active{ transform: translateY(0); }

        .btn-ghost{
            background:#eef2ff;
            border-color: rgba(124,58,237,.18);
            color:#3730a3;
            box-shadow: none;
        }

        .invalid{
            border: 3px solid var(--danger) !important;
            box-shadow: none !important;
        }

        .kbd{
            display:inline-block;
            padding: 1px 8px;
            border: 1px solid rgba(17,24,39,.14);
            border-bottom-width: 2px;
            border-radius: 10px;
            background:#fff;
            font-size: 12px;
            font-weight: 900;
            color:#374151;
            margin: 0 4px;
        }

        b.head{
            display:inline-block;
            margin-bottom: 6px;
            font-weight: 1000;
        }
    </style>
</head>

<body>
<div class="wrap">
    <div class="card" id="weightCalc">
        <div class="header">
            <h1>ë‹¨ìœ„ í™˜ì‚° ë³€í™˜ [ë¬´ê²Œ]</h1>
            <p class="sub">ì…ë ¥í•œ ë¬´ê²Œë¥¼ ì„ íƒí•œ ë‹¨ìœ„ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ë‹¨ìœ„(pg~Gt / gr~st / ëˆ~ê´€ / ct)ë¡œ ìë™ í™˜ì‚°í•©ë‹ˆë‹¤. (ê¸°ì¤€: g)</p>
        </div>

        <div class="content">
            <div class="tip">
                <div class="title">ğŸ’¡ ì‚¬ìš© íŒ</div>
                <ul>
                    <li>ê°’ì„ ì…ë ¥í•˜ê±°ë‚˜ ë‹¨ìœ„ë¥¼ ë°”ê¾¸ë©´ <b>ìë™ ë³€í™˜</b>ë©ë‹ˆë‹¤.</li>
                    <li>í° ìˆ˜/ì‘ì€ ìˆ˜ëŠ” <code>a Ã— 10â¿</code> í˜•íƒœë¡œ í‘œì‹œë©ë‹ˆë‹¤.</li>
                    <li><span class="kbd">Ctrl</span>+<span class="kbd">F</span>ë¡œ ê²°ê³¼ì—ì„œ ë‹¨ìœ„ ì´ë¦„ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”.</li>
                </ul>
            </div>

            <div class="grid">
                <!-- Inputs -->
                <div class="panel">
                    <div class="field">
                        <label for="weightInput">ë¬´ê²Œ ì…ë ¥</label>
                        <input type="number" step="any" id="weightInput" placeholder="ì˜ˆ: 10" />
                    </div>

                    <div class="field">
                        <label for="weight-select">ë¬´ê²Œ ë‹¨ìœ„</label>
                        <select id="weight-select">
                            <!-- SI (1ë‹¨ìœ„ê°€ ëª‡ gì¸ì§€) -->
                            <option value="0.000000000001">pg (í”¼ì½”ê·¸ë¨)</option>
                            <option value="0.000000001">ng (ë‚˜ë…¸ê·¸ë¨)</option>
                            <option value="0.000001">Î¼g (ë§ˆì´í¬ë¡œê·¸ë¨)</option>
                            <option value="0.001">mg (ë°€ë¦¬ê·¸ë¨)</option>
                            <option value="1" selected>g (ê·¸ë¨)</option>
                            <option value="1000">kg (í‚¬ë¡œê·¸ë¨)</option>
                            <option value="1000000">t (í†¤)</option>
                            <option value="1000000000">kt (í‚¬ë¡œí†¤)</option>
                            <option value="1000000000000">Mt (ë©”ê°€í†¤)</option>
                            <option value="1000000000000000">Gt (ê¸°ê°€í†¤)</option>

                            <!-- non-SI -->
                            <option value="0.06479891">gr (ê·¸ë ˆì¸)</option>
                            <option value="28.3495">oz (ì˜¨ìŠ¤)</option>
                            <option value="453.592">lb (íŒŒìš´ë“œ)</option>
                            <option value="6350.29">st (ìŠ¤í†¤)</option>

                            <!-- KR traditional -->
                            <option value="3.75">ëˆ (ì „, éŒ¢)</option>
                            <option value="37.5">ëƒ¥ (ëŸ‰, å…©)</option>
                            <option value="375">ê·¼[ì±„ì†Œ] (æ–¤)</option>
                            <option value="600">ê·¼[ê³ ê¸°] (æ–¤)</option>
                            <option value="3750">ê´€ (è²«)</option>

                            <!-- etc -->
                            <option value="0.2">ct (ìºëŸ¿)</option>
                        </select>
                    </div>

                    <div class="row">
                        <button class="btn" type="button" id="copyBtn">ğŸ“‹ ê²°ê³¼ ë³µì‚¬</button>
                        <button class="btn btn-ghost" type="button" id="resetBtn">ğŸ”„ ì´ˆê¸°í™”</button>
                        <span class="badge"><span class="dot"></span> ìë™ ë³€í™˜</span>
                    </div>

                    <div class="muted">
                        â€» â€œê·¼[ì±„ì†Œ] / ê·¼[ê³ ê¸°]â€ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë³„ë„ í‘œê¸°ë©ë‹ˆë‹¤. (ì›í•˜ì‹œë©´ ëª…ì¹­ì„ ë” ëª…í™•íˆ ë¶„ë¦¬í•´ ë“œë¦´ê²Œìš”)
                    </div>
                </div>

                <!-- Result -->
                <div class="panel">
                    <div id="weightResult" class="result" contenteditable="true" aria-label="ë¬´ê²Œ í™˜ì‚° ê²°ê³¼">
                        <b class="head">[ ë‹¨ìœ„ í™˜ì‚° ê²°ê³¼ ]</b><br>
                        ê°’ ì…ë ¥ ì‹œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const weightInput = document.getElementById("weightInput");
    const weightSelect = document.getElementById("weight-select");
    const weightResult = document.getElementById("weightResult");
    const copyBtn = document.getElementById("copyBtn");
    const resetBtn = document.getElementById("resetBtn");

    // ë‹¨ìœ„ ëª©ë¡ (1ë‹¨ìœ„ê°€ ëª‡ gì¸ì§€)
    const weightUnits = [
        { name: "pg (í”¼ì½”ê·¸ë¨)", value: 0.000000000001 },
        { name: "ng (ë‚˜ë…¸ê·¸ë¨)", value: 0.000000001 },
        { name: "Î¼g (ë§ˆì´í¬ë¡œê·¸ë¨)", value: 0.000001 },
        { name: "mg (ë°€ë¦¬ê·¸ë¨)", value: 0.001 },
        { name: "g (ê·¸ë¨)", value: 1 },
        { name: "kg (í‚¬ë¡œê·¸ë¨)", value: 1000 },
        { name: "t (í†¤)", value: 1000000 },
        { name: "kt (í‚¬ë¡œí†¤)", value: 1000000000 },
        { name: "Mt (ë©”ê°€í†¤)", value: 1000000000000 },
        { name: "Gt (ê¸°ê°€í†¤)", value: 1000000000000000 },

        { name: "gr (ê·¸ë ˆì¸)", value: 0.06479891 },
        { name: "oz (ì˜¨ìŠ¤)", value: 28.3495 },
        { name: "lb (íŒŒìš´ë“œ)", value: 453.592 },
        { name: "st (ìŠ¤í†¤)", value: 6350.29 },

        { name: "ëˆ (ì „, éŒ¢)", value: 3.75 },
        { name: "ëƒ¥ (ëŸ‰, å…©)", value: 37.5 },
        { name: "ê·¼[ì±„ì†Œ] (æ–¤)", value: 375 },
        { name: "ê·¼[ê³ ê¸°] (æ–¤)", value: 600 },
        { name: "ê´€ (è²«)", value: 3750 },

        { name: "ct (ìºëŸ¿)", value: 0.2 }
    ];

    function trimTrailingZeros(str) {
        return str.replace(/(\.\d*?[1-9])0+$/, '$1').replace(/\.0+$/, '');
    }

    function formatBigNumber(n) {
        const abs = Math.abs(n);
        if (abs >= 1_000_000 || (abs > 0 && abs <= 0.000001)) {
            const [coeff, expRaw] = n.toExponential(6).split("e");
            const exp = expRaw.replace("+", "");
            const supers = exp
            .replace("-", "â»")
            .replace(/\d/g, d => "â°Â¹Â²Â³â´âµâ¶â·â¸â¹"[d]);
            return `${trimTrailingZeros(Number(coeff).toLocaleString(undefined, { maximumFractionDigits: 6 }))} Ã— 10${supers}`;
        }
        return trimTrailingZeros(n.toLocaleString(undefined, { maximumFractionDigits: 12 }));
    }

    function sanitizeText(html) {
        const tmp = document.createElement("div");
        tmp.innerHTML = html.replaceAll("<br>", "\n").replaceAll("<br/>", "\n").replaceAll("<br />", "\n");
        return tmp.textContent || tmp.innerText || "";
    }

    function setInvalid(el, isInvalid){
        el.classList.toggle("invalid", !!isInvalid);
    }

    function convertWeight() {
        const inputStr = weightInput.value.trim();
        const inputVal = parseFloat(inputStr);
        const selectedUnitValue = parseFloat(weightSelect.value);

        setInvalid(weightInput, false);

        if (inputStr === "") {
            weightResult.innerHTML = "<b class='head'>[ ë‹¨ìœ„ í™˜ì‚° ê²°ê³¼ ]</b><br>ê°’ ì…ë ¥ ì‹œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.";
            return;
        }

        if (!Number.isFinite(inputVal)) {
            setInvalid(weightInput, true);
            weightResult.innerHTML = "í•­ëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
            return;
        }

        // ì…ë ¥ê°’ì„ g ë‹¨ìœ„ë¡œ ë³€í™˜
        const gramValue = inputVal * selectedUnitValue;

        const fromUnitText = weightSelect.options[weightSelect.selectedIndex].text;

        let output = "<b class='head'>[ ë‹¨ìœ„ í™˜ì‚° ê²°ê³¼ ]</b><br>";
        weightUnits.forEach(unit => {
            const converted = gramValue / unit.value;
            output += `${trimTrailingZeros(inputVal.toLocaleString(undefined, { maximumFractionDigits: 12 }))} ${fromUnitText} = <b>${formatBigNumber(converted)}</b> ${unit.name}<br>`;
        });

        weightResult.innerHTML = output;
    }

    async function copyResult() {
        const text = sanitizeText(weightResult.innerHTML).trim();
        if (!text) return;

        try{
            await navigator.clipboard.writeText(text);
            copyBtn.textContent = "âœ… ë³µì‚¬ë¨";
            setTimeout(() => copyBtn.textContent = "ğŸ“‹ ê²°ê³¼ ë³µì‚¬", 1200);
        }catch(e){
            const ta = document.createElement("textarea");
            ta.value = text;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            copyBtn.textContent = "âœ… ë³µì‚¬ë¨";
            setTimeout(() => copyBtn.textContent = "ğŸ“‹ ê²°ê³¼ ë³µì‚¬", 1200);
        }
    }

    function resetAll(){
        weightInput.value = "";
        weightSelect.value = "1";
        weightResult.innerHTML = "<b class='head'>[ ë‹¨ìœ„ í™˜ì‚° ê²°ê³¼ ]</b><br>ê°’ ì…ë ¥ ì‹œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.";
        setInvalid(weightInput, false);
        weightInput.focus();
    }

    // Events
    weightInput.addEventListener("input", convertWeight);
    weightSelect.addEventListener("change", convertWeight);
    copyBtn.addEventListener("click", copyResult);
    resetBtn.addEventListener("click", resetAll);

    // init
    convertWeight();
</script>
</body>
</html>
