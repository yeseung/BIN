<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì¸ìƒì‹œê³„ ê³„ì‚°ê¸° (ìš°ë¦¬ ì¸ìƒì´ 24ì‹œê°„ ì‹œê³„ë¼ë©´)</title>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --line:#e5e7eb;
      --text:#111827;
      --muted:#6b7280;

      /* warm accent for this tool */
      --accent:#ff6b35;
      --accent2:#ff8c42;
      --ink:#2b2b2b;

      --shadow:0 10px 30px rgba(0,0,0,.06);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif;
    }
    .page-wrap{max-width:980px;margin:18px auto;padding:0 14px}
    h4{margin:0 0 10px 0;font-size:18px}
    b{font-weight:900}

    .description-text{margin:0 0 12px 0;color:#374151}
    .description-text span{display:inline-block;margin-top:4px}

    .glass-card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:14px;
      margin:12px 0;
    }

    .input-group{margin:10px 0}
    label{display:block;margin-bottom:6px;font-weight:900;color:#111827}
    .form-input{
      width:100%;
      padding:11px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      outline:none;
      background:#fff;
      font-size:14px;
    }
    .form-input:focus{
      border-color:rgba(255,107,53,.55);
      box-shadow:0 0 0 4px rgba(255,107,53,.12);
    }

    .button-group{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .glass-button{
      border:0;
      border-radius:14px;
      padding:11px 14px;
      background:linear-gradient(135deg,var(--accent2),var(--accent));
      color:#fff;
      font-weight:900;
      cursor:pointer;
      box-shadow:0 10px 20px rgba(255,107,53,.18);
      user-select:none;
    }
    .glass-button:hover{filter:brightness(.98)}
    .glass-button:active{transform:translateY(1px)}
    .glass-button.secondary{
      background:linear-gradient(135deg,#95a5a6,#7f8c8d);
      box-shadow:0 10px 20px rgba(0,0,0,.10);
    }

    /* validation */
    .error{border-color:rgba(239,68,68,.75)!important; box-shadow:0 0 0 4px rgba(239,68,68,.12)!important}
    .success{border-color:rgba(16,185,129,.6)!important; box-shadow:0 0 0 4px rgba(16,185,129,.10)!important}

    /* clock container */
    #clockContainer{
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
    }

    /* result card content */
    #result{
      padding:2px;
      outline:none;
      color:var(--ink);
    }
    #result h3{margin:0;font-size:22px}
    #result h5{margin:0}

    /* ì‘ì€ ì•ˆë‚´ */
    .tip{
      font-size:12px;
      color:var(--muted);
      text-align:center;
      margin-top:4px;
    }
  </style>
</head>

<body>
<div class="page-wrap">
  <h4><b>ì¸ìƒì‹œê³„ ê³„ì‚°ê¸° (ìš°ë¦¬ ì¸ìƒì´ 24ì‹œê°„ ì‹œê³„ë¼ë©´)</b></h4>
  <p class="description-text">
    ì¸ìƒì‹œê³„ : ì‚¬ëŒì˜ ì¼ìƒì„ 24ì‹œê°„ì— ë¹—ëŒ€ì–´ í‘œì‹œí•œ ê²ƒ<br>
    <span style="font-size: 13px; color: #8B7355;">ë‹¹ì‹ ì˜ ì¸ìƒì´ ì§€ê¸ˆ ëª‡ ì‹œì¸ì§€ í™•ì¸í•´ë³´ì„¸ìš”</span>
  </p>

  <div class="glass-card">
    <div class="input-group">
      <label for="birth">íƒœì–´ë‚œ ë‚  (birthday) <span style="color:#ff6b35;">*</span></label>
      <input type="date" id="birth" name="birthD" class="form-input" required>
    </div>

    <div class="input-group">
      <label for="life">ì˜ˆìƒ ìƒì¡´ê¸°ê°„ (ë…„) <span style="color:#8B7355;font-size:13px;">[1ë…„ = 365ì¼ ê°€ì •]</span></label>
      <input type="number" id="life" name="lifeY" class="form-input" placeholder="1~100 ì‚¬ì´" value="100" min="1" max="100">
    </div>

    <div class="input-group">
      <label for="checkDate">ì˜¤ëŠ˜ ë‚ ì§œ (today) [ê¸°ì¤€ë‚ ì§œ] <span style="color:#ff6b35;">*</span></label>
      <input type="date" id="checkDate" name="checkDate" class="form-input" required>
    </div>
    <div class="tip">â€» ê²°ê³¼ ì˜ì—­ì€ í´ë¦­í•´ì„œ í…ìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆì–´ìš”.</div>
  </div>

  <div class="glass-card">
    <div class="button-group">
      <button onclick="lifeTime()" class="glass-button">â° ì¸ìƒì‹œê³„ ê³„ì‚°í•˜ê¸°</button>
      <button onclick="clearAllInputs()" class="glass-button secondary">ğŸ”„ ì´ˆê¸°í™”</button>
    </div>
  </div>

  <div id="clockContainer" style="display:none;"></div>

  <div class="glass-card" id="resultCard" style="display:none;">
    <div id="result" contenteditable="true"></div>
    <div class="button-group" style="margin-top:16px;">
      <button onclick="speakText()" class="glass-button">ğŸ”Š ì†Œë¦¬ë¡œ ë“£ê¸°</button>
      <button onclick="stopSpeak()" class="glass-button secondary">â¸ï¸ ì½ê¸° ì¤‘ì§€</button>
      <button onclick="shareToKakao()" class="glass-button" style="background: linear-gradient(135deg, #FEE500, #FDD835); color:#000 !important;">
        ğŸ’¬ ì¹´í†¡ìœ¼ë¡œ ê³µìœ í•˜ê¸°
      </button>
    </div>
  </div>
</div>

<script>
  /* -------------------------
     ê¸°ë³¸ ë‚ ì§œ ì„¸íŒ…(ì˜¤ëŠ˜/40ë…„ì „)
  -------------------------- */
  var today = new Date();
  var mm = today.getMonth() + 1;
  var dd = today.getDate();
  var yy = today.getFullYear();
  var uu = today.getFullYear() - 40;
  if (dd < 10) dd = '0' + dd;
  if (mm < 10) mm = '0' + mm;

  /* -------------------------
     TTS / Clock globals
  -------------------------- */
  let isSpeaking = false;

  // ì‹œê³„ ì• ë‹ˆë©”ì´ì…˜ ì „ì—­ ë³€ìˆ˜
  let clockInterval = null;
  let clockHour = 0;
  let clockMinute = 0;
  let clockSecond = 0;

  /* -------------------------
     ìœ í‹¸
  -------------------------- */
  function pad2(n){ return (n<10 ? '0'+n : ''+n); }

  /* -------------------------
     ë©”ì¸ ê³„ì‚°
  -------------------------- */
  function lifeTime() {
    var birthDate = document.getElementById("birth").valueAsDate;
    if (!birthDate) {
      alert("íƒœì–´ë‚œ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      document.getElementById("birth").classList.add('error');
      return;
    } else {
      document.getElementById("birth").classList.remove('error');
      document.getElementById("birth").classList.add('success');
    }

    var birthMonth = birthDate.getMonth() + 1;
    var birthDay = birthDate.getDate();
    var birthYear = birthDate.getFullYear();

    var lifeYear = parseInt(document.getElementById("life").value, 10);
    if (lifeYear > 100) {
      document.getElementById('result').innerHTML = "ìˆ˜ëª…ì€ 100ì„¸ ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      document.getElementById("life").classList.add('error');
      document.getElementById('resultCard').style.display = 'block';
      return;
    } else if (lifeYear <= 0 || isNaN(lifeYear)) {
      document.getElementById('result').innerHTML = "ìˆ˜ëª…ì€ 1ì„¸ ì´ìƒìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      document.getElementById("life").classList.add('error');
      document.getElementById('resultCard').style.display = 'block';
      return;
    } else {
      document.getElementById("life").classList.remove('error');
      document.getElementById("life").classList.add('success');
    }

    // ì˜ˆìƒ ì‚¬ë§ì¼ (365ì¼*lifeYear ê°€ì •)
    var deathDate = new Date(birthDate);
    deathDate.setDate(birthDate.getDate() + (lifeYear * 365));
    var deathMonth = pad2(deathDate.getMonth() + 1);
    var deathDay = pad2(deathDate.getDate());
    var deathYear = deathDate.getFullYear();

    // ê¸°ì¤€ ë‚ ì§œ
    var cdMs = document.getElementById("checkDate").valueAsDate;
    if (!cdMs) {
      alert("ê¸°ì¤€ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      document.getElementById("checkDate").classList.add('error');
      return;
    } else {
      document.getElementById("checkDate").classList.remove('error');
      document.getElementById("checkDate").classList.add('success');
    }

    // ë‚¨ì€ ê¸°ê°„(ì¼)
    var gapMs = parseInt((deathDate.getTime() - cdMs.getTime()) / 1000 / 60 / 60 / 24, 10);
    var gapYear = parseInt(gapMs / 365, 10);
    var gapMonth = parseInt((gapMs % 365) / 30, 10);
    var gapDay = parseInt((gapMs % 365) % 30, 10);

    // ì‚´ì•„ì˜¨ ê¸°ê°„(ì¼)
    var gapMs2 = parseInt((cdMs.getTime() - birthDate.getTime()) / 1000 / 60 / 60 / 24, 10);
    var gap2Year = parseInt(gapMs2 / 365, 10);
    var gap2Month = parseInt((gapMs2 % 365) / 30, 10);
    var gap2Day = parseInt((gapMs2 % 365) % 30, 10);

    // ì¸ìƒì„ 24ì‹œê°„ìœ¼ë¡œ í™˜ì‚°
    var lifeClockS = parseInt(((86400 * gapMs2) / (lifeYear * 365)), 10);
    var lifeClockM = parseInt(lifeClockS / 60, 10);
    var lifeClockSec = parseInt(lifeClockS % 60, 10);
    var lifeClockHour = parseInt(lifeClockM / 60, 10);
    var lifeClockMin = parseInt(lifeClockM % 60, 10);

    if (gapMs2 >= (lifeYear * 365)) {
      document.getElementById('result').innerHTML = "ì´ë¯¸ ì˜ˆìƒ ìˆ˜ëª…ë³´ë‹¤ ì˜¤ë˜ ì‚¬ì…¨ìŠµë‹ˆë‹¤.";
      document.getElementById('resultCard').style.display = 'block';
      return;
    }

    // ì˜¤ì „/ì˜¤í›„/ë°¤ ë¼ë²¨
    var sun, sunEmoji = "";
    if (lifeClockHour == 24) {
      sun = "ìì •"; sunEmoji = "ğŸŒ™"; lifeClockHour -= 12;
    } else if (lifeClockHour >= 21) {
      sun = "ë°¤"; sunEmoji = "ğŸŒ™"; lifeClockHour -= 12;
    } else if (lifeClockHour >= 18) {
      sun = "ì €ë…"; sunEmoji = "ğŸŒ†"; lifeClockHour -= 12;
    } else if (lifeClockHour > 12) {
      sun = "ì˜¤í›„"; sunEmoji = "â˜€ï¸"; lifeClockHour -= 12;
    } else if (lifeClockHour == 12) {
      sun = "ë‚®"; sunEmoji = "â˜€ï¸"; lifeClockHour = 12;
    } else if (lifeClockHour >= 9) {
      sun = "ì˜¤ì „"; sunEmoji = "ğŸŒ…";
    } else if (lifeClockHour >= 6) {
      sun = "ì•„ì¹¨"; sunEmoji = "ğŸŒ…";
    } else if (lifeClockHour >= 0) {
      sun = "ìƒˆë²½"; sunEmoji = "ğŸŒ™";
    } else {
      document.getElementById('result').innerHTML = "ì˜¤ì „-ì˜¤í›„ ì…ë ¥ ì˜¤ë¥˜";
      document.getElementById('resultCard').style.display = 'block';
      return;
    }

    // ê²°ê³¼ ì¶œë ¥
    document.getElementById('result').innerHTML =
            "<div style='text-align:center;margin-bottom:20px;'>" +
            "<h3 style='color:#FF6B35;margin:0 0 8px 0;font-size:22px;'>ã€Š ì¸ìƒì‹œê³„ ê³„ì‚°ê¸° ã€‹</h3>" +
            "<p style='color:#8B7355;margin:0;font-size:14px;'>ìš°ë¦¬ ì¸ìƒì´ 24ì‹œê°„ ì‹œê³„ë¼ë©´</p>" +
            "</div>" +

            "<div style='background:rgba(255,248,240,0.55);padding:16px;border-radius:12px;margin:16px 0;border:1px solid rgba(255,107,53,.12);'>" +
            "<p style='margin:8px 0;'><strong>âœ“ íƒœì–´ë‚œ ë‚  :</strong> " + birthYear + "ë…„ " + birthMonth + "ì›” " + birthDay + "ì¼</p>" +
            "<p style='margin:8px 0;'><strong>âœ“ ìƒì¡´ ê¸°ê°„ :</strong> " + lifeYear + "ë…„</p>" +
            "<p style='margin:8px 0;'><strong>âœ“ ì˜¤ëŠ˜ ë‚ ì§œ :</strong> " + cdMs.getFullYear() + "ë…„ " + (cdMs.getMonth() + 1) + "ì›” " + cdMs.getDate() + "ì¼</p>" +
            "</div>" +

            "<div style='background:rgba(255,140,66,0.10);padding:16px;border-radius:12px;margin:16px 0;border-left:4px solid #FF8C42;'>" +
            "<p style='margin:8px 0;'><strong>ì„ì¢… ì˜ˆì •ì¼ :</strong> <b style='color:#FF6B35;'>" + deathYear + "ë…„ " + deathMonth + "ì›” " + deathDay + "ì¼</b></p>" +
            "<p style='margin:8px 0;'><strong>ë‚¨ì€ ì‹œê°„ :</strong> <b style='color:#FF6B35;'>ì•½ " + gapYear + "ë…„ " + gapMonth + "ê°œì›” " + gapDay + "ì¼ (" + gapMs + "ì¼)</b></p>" +
            "</div>" +

            "<div style='background:rgba(255,237,213,0.55);padding:16px;border-radius:12px;margin:16px 0;border-left:4px solid #FFA500;'>" +
            "<p style='margin:8px 0;'><strong>ì§€ê¸ˆê¹Œì§€ ì‚´ì•„ì˜¨ ì‹œê°„ :</strong> <b style='color:#FF8C42;'>ì´ " + gap2Year + "ë…„ " + gap2Month + "ê°œì›” " + gap2Day + "ì¼ (" + gapMs2 + "ì¼)</b></p>" +
            "</div>" +

            "<div id='summaryText' style='background:rgba(255,248,240,0.65);padding:18px;border-radius:14px;margin:20px 0;line-height:1.8;font-size:15px;color:#3a3a3a;border:1px solid rgba(139,115,85,.18);'>" +
            "<p style='margin:8px 0;'>ë‹¹ì‹ ì˜ ì„ì¢… ì˜ˆì •ì¼ì€ " + deathYear + "ë…„ " + deathMonth + "ì›” " + deathDay + "ì¼ ì…ë‹ˆë‹¤. ì„ì¢… ì˜ˆì •ì¼ê¹Œì§€ëŠ” ì•½ " + gapYear + "ë…„ " + gapMonth + "ê°œì›” " + gapDay + "ì¼(" + gapMs + "ì¼)ì´ ë‚¨ì•˜ìŠµë‹ˆë‹¤.<br>" +
            "ë‹¹ì‹ ì€ ì˜¤ëŠ˜ê¹Œì§€ ì´ " + gap2Year + "ë…„ " + gap2Month + "ê°œì›” " + gap2Day + "ì¼(" + gapMs2 + "ì¼)ì„ ì—´ì‹¬íˆ ì‚´ì•„ì™”ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ì¸ìƒì´ 24ì‹œê°„ ì‹œê³„ë¼ë©´ ì§€ê¸ˆ ë‹¹ì‹ ì€ " + sun + " " + lifeClockHour + "ì‹œ " + lifeClockMin + "ë¶„ " + lifeClockSec + "ì´ˆë¥¼ ì§€ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.</p>" +
            "</div>" +

            "<div style='text-align:center;background:linear-gradient(135deg, rgba(255,140,66,0.16), rgba(255,165,0,0.16));padding:20px;border-radius:14px;margin:20px 0;border:1px solid rgba(255,140,66,.18);'>" +
            "<p style='margin:0;font-size:18px;font-weight:900;color:#8B4513;'>" + sunEmoji + " ë‹¹ì‹ ì˜ ì¸ìƒì‹œê³„</p>" +
            "<p style='margin:8px 0 0 0;font-size:24px;font-weight:900;color:#FF6B35;'>" + sun + " " + lifeClockHour + "ì‹œ " + lifeClockMin + "ë¶„ " + lifeClockSec + "ì´ˆ</p>" +
            "<p style='margin:8px 0 0 0;font-size:13px;color:#8B7355;'>ì§€ê¸ˆ ì´ ìˆœê°„ì„ ì†Œì¤‘íˆ</p>" +
            "</div>";

    document.getElementById('clockContainer').style.display = 'flex';
    document.getElementById('resultCard').style.display = 'block';

    // ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì§€
    if (clockInterval) { clearInterval(clockInterval); clockInterval = null; }

    // ì‹œê³„ ì‹œê°„ ì €ì¥
    clockHour = lifeClockHour;
    clockMinute = lifeClockMin;
    clockSecond = lifeClockSec;

    // ì´ˆê¸° ì‹œê³„ ê·¸ë¦¬ê¸°
    drawClock(clockHour, clockMinute, clockSecond);

    // ì´ˆì¹¨ ì• ë‹ˆë©”ì´ì…˜ (1ì´ˆë§ˆë‹¤)
    clockInterval = setInterval(function(){
      clockSecond++;
      if (clockSecond >= 60) clockSecond = 0;
      drawClock(clockHour, clockMinute, clockSecond);
    }, 1000);
  }

  /* -------------------------
     TTS: summaryTextë§Œ ì½ê¸°
  -------------------------- */
  function speakText() {
    const summaryElement = document.getElementById('summaryText');

    if (!('speechSynthesis' in window)) {
      alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì½ê¸° ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nChrome, Edge, Safari ë“±ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
      return;
    }
    if (!summaryElement || !summaryElement.textContent.trim()) {
      alert('ì½ì„ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ì¸ìƒì‹œê³„ë¥¼ ê³„ì‚°í•´ì£¼ì„¸ìš”.');
      return;
    }

    if (isSpeaking) {
      window.speechSynthesis.cancel();
      isSpeaking = false;
    }

    const msg = new SpeechSynthesisUtterance();
    msg.text = summaryElement.textContent.trim();
    msg.lang = "ko-KR";
    msg.rate = 0.9;
    msg.pitch = 1;
    msg.onend = () => isSpeaking = false;

    isSpeaking = true;
    window.speechSynthesis.speak(msg);
  }
  function stopSpeak() {
    if ('speechSynthesis' in window) {
      window.speechSynthesis.cancel();
      isSpeaking = false;
    }
  }

  /* -------------------------
     ê³µìœ (Web Share API)
  -------------------------- */
  function shareToKakao() {
    const resultText = document.getElementById('result').textContent;
    if (!resultText.trim()) {
      alert('ê³µìœ í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ì¸ìƒì‹œê³„ë¥¼ ê³„ì‚°í•´ì£¼ì„¸ìš”.');
      return;
    }
    const shareText = resultText.replace(/\s+/g, ' ').trim();
    const currentUrl = window.location.href;

    if (navigator.share) {
      navigator.share({
        title: 'ì¸ìƒì‹œê³„ ê³„ì‚° ê²°ê³¼',
        text: shareText,
        url: currentUrl
      }).catch((error) => {
        if (error && error.name !== 'AbortError') {
          alert('ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\në¸Œë¼ìš°ì €ì—ì„œ ê³µìœ  ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•Šê±°ë‚˜ ê³µìœ ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
      });
    } else {
      alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ê³µìœ  ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nëª¨ë°”ì¼ ë¸Œë¼ìš°ì €(Chrome, Safari, Edge ë“±)ì—ì„œ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
    }
  }

  /* -------------------------
     ì´ˆê¸°í™”
  -------------------------- */
  function clearAllInputs() {
    document.getElementById("birth").value = uu + '-' + mm + '-' + dd;
    document.getElementById("checkDate").value = yy + '-' + mm + '-' + dd;
    document.getElementById("life").value = "100";

    ['birth','checkDate','life'].forEach(id=>{
      const el = document.getElementById(id);
      el.classList.remove('error','success');
    });

    if (clockInterval) { clearInterval(clockInterval); clockInterval = null; }

    document.getElementById('resultCard').style.display = 'none';
    document.getElementById('clockContainer').style.display = 'none';
  }

  /* -------------------------
     Canvas Clock (ë„¤ì˜¨ ìŠ¤íƒ€ì¼)
  -------------------------- */
  function drawClock(hour, minute, second) {
    const isMobile = window.innerWidth <= 767;
    const canvasSize = isMobile ? Math.min(300, window.innerWidth - 40) : 350;

    const canvas = document.createElement('canvas');
    canvas.width = canvasSize;
    canvas.height = canvasSize;
    canvas.style.width = '100%';
    canvas.style.height = '100%';
    canvas.style.maxWidth = canvasSize + 'px';
    canvas.style.maxHeight = canvasSize + 'px';

    const ctx = canvas.getContext('2d');
    const radius = canvasSize / 2;

    ctx.save();
    ctx.translate(radius, radius);
    ctx.clearRect(-radius, -radius, canvasSize, canvasSize);

    // dark base
    const baseGradient = ctx.createRadialGradient(0,0,0,0,0,radius);
    baseGradient.addColorStop(0, '#0a0a0f');
    baseGradient.addColorStop(0.4, '#1a1a2e');
    baseGradient.addColorStop(0.7, '#16213e');
    baseGradient.addColorStop(1, '#0f1419');

    ctx.beginPath();
    ctx.arc(0,0,radius-6,0,Math.PI*2);
    ctx.fillStyle = baseGradient;
    ctx.fill();

    // neon ring
    const neonRingGradient = ctx.createLinearGradient(-radius,-radius,radius,radius);
    neonRingGradient.addColorStop(0, '#00ffff');
    neonRingGradient.addColorStop(0.25, '#ff00ff');
    neonRingGradient.addColorStop(0.5, '#00d4ff');
    neonRingGradient.addColorStop(0.75, '#ff00ff');
    neonRingGradient.addColorStop(1, '#00ffff');

    ctx.beginPath();
    ctx.arc(0,0,radius-6,0,Math.PI*2);
    ctx.strokeStyle = neonRingGradient;
    ctx.lineWidth = 4;
    ctx.shadowColor = '#00ffff';
    ctx.shadowBlur = 20;
    ctx.stroke();
    ctx.shadowBlur = 0;

    // inner rings
    for (let i=0;i<2;i++){
      ctx.beginPath();
      ctx.arc(0,0,radius-20-i*10,0,Math.PI*2);
      const ringColor = i===0 ? 'rgba(0,255,255,0.3)' : 'rgba(255,0,255,0.2)';
      ctx.strokeStyle = ringColor;
      ctx.lineWidth = 1.5;
      ctx.shadowColor = ringColor;
      ctx.shadowBlur = 15;
      ctx.stroke();
      ctx.shadowBlur = 0;
    }

    // hour dots
    for (let i=0;i<12;i++){
      const angle = (i*Math.PI)/6;
      const isMain = (i%3===0);
      const x = Math.sin(angle)*(radius-28);
      const y = -Math.cos(angle)*(radius-28);
      const dotSize = isMain ? 6 : 3;
      const neonColor = isMain ? '#00ffff' : '#00d4ff';

      ctx.beginPath();
      ctx.arc(x,y,dotSize+3,0,Math.PI*2);
      ctx.fillStyle = neonColor;
      ctx.shadowColor = neonColor;
      ctx.shadowBlur = 12;
      ctx.fill();
      ctx.shadowBlur = 0;

      ctx.beginPath();
      ctx.arc(x,y,dotSize,0,Math.PI*2);
      const dotGrad = ctx.createRadialGradient(x,y,0,x,y,dotSize);
      dotGrad.addColorStop(0,'#ffffff');
      dotGrad.addColorStop(0.5,neonColor);
      dotGrad.addColorStop(1,neonColor);
      ctx.fillStyle = dotGrad;
      ctx.shadowColor = neonColor;
      ctx.shadowBlur = 8;
      ctx.fill();
      ctx.shadowBlur = 0;
    }

    // minute dots
    for (let i=0;i<60;i++){
      if (i%5!==0){
        const angle = (i*Math.PI)/30;
        const x = Math.sin(angle)*(radius-26);
        const y = -Math.cos(angle)*(radius-26);

        ctx.beginPath();
        ctx.arc(x,y,1.5,0,Math.PI*2);
        ctx.fillStyle = 'rgba(0,255,255,0.5)';
        ctx.shadowColor = 'rgba(0,255,255,0.6)';
        ctx.shadowBlur = 6;
        ctx.fill();
        ctx.shadowBlur = 0;
      }
    }

    // numbers
    const fontSize = isMobile ? Math.max(20, canvasSize * 0.075) : 26;
    ctx.font = `900 ${fontSize}px Arial, sans-serif`;
    ctx.textBaseline = 'middle';
    ctx.textAlign = 'center';

    const mainNumbers = [12,3,6,9];
    for (let num=1;num<=12;num++){
      if (mainNumbers.includes(num)){
        const ang = (num*Math.PI)/6;
        ctx.save();
        ctx.rotate(ang);
        ctx.translate(0, -radius*0.72);
        ctx.rotate(-ang);

        const textNeonColor = (num%3===0) ? '#00ffff' : '#ff00ff';
        ctx.fillStyle = textNeonColor;
        ctx.shadowColor = textNeonColor;
        ctx.shadowBlur = 15;
        ctx.fillText(String(num),0,0);
        ctx.shadowBlur = 0;
        ctx.restore();
      }
    }

    // hands
    const hourAngle = ((hour % 12) + minute / 60) * Math.PI / 6;
    drawHand(ctx, hourAngle, radius * 0.48, 8, '#00ffff');

    const minuteAngle = (minute + second / 60) * Math.PI / 30;
    drawHand(ctx, minuteAngle, radius * 0.72, 5, '#ff00ff');

    const secondAngle = second * Math.PI / 30;
    drawHand(ctx, secondAngle, radius * 0.82, 3, '#00ffcc');

    // center
    const centerGradient = ctx.createRadialGradient(0,0,0,0,0,10);
    centerGradient.addColorStop(0,'#ffffff');
    centerGradient.addColorStop(0.3,'#00ffff');
    centerGradient.addColorStop(0.7,'#ff00ff');
    centerGradient.addColorStop(1,'#00d4ff');

    ctx.beginPath();
    ctx.arc(0,0,10,0,Math.PI*2);
    ctx.fillStyle = centerGradient;
    ctx.shadowColor = '#00ffff';
    ctx.shadowBlur = 20;
    ctx.fill();
    ctx.shadowBlur = 0;

    ctx.beginPath();
    ctx.arc(0,0,10,0,Math.PI*2);
    ctx.strokeStyle = '#00ffff';
    ctx.lineWidth = 2;
    ctx.shadowColor = '#00ffff';
    ctx.shadowBlur = 12;
    ctx.stroke();
    ctx.shadowBlur = 0;

    ctx.beginPath();
    ctx.arc(0,0,6,0,Math.PI*2);
    ctx.fillStyle = 'rgba(255,255,255,0.6)';
    ctx.shadowColor = '#ffffff';
    ctx.shadowBlur = 8;
    ctx.fill();
    ctx.shadowBlur = 0;

    ctx.restore();

    // mount
    const container = document.getElementById('clockContainer');
    container.innerHTML = '';
    container.appendChild(canvas);
  }

  function drawHand(ctx, pos, length, width, color) {
    ctx.save();
    ctx.shadowColor = color;
    ctx.shadowBlur = 20;

    const gx = Math.sin(pos) * length;
    const gy = -Math.cos(pos) * length;
    const handGrad = ctx.createLinearGradient(0, 0, gx, gy);
    handGrad.addColorStop(0, '#ffffff');
    handGrad.addColorStop(0.2, color);
    handGrad.addColorStop(0.8, color);
    handGrad.addColorStop(1, 'rgba(255,255,255,0.8)');

    ctx.beginPath();
    ctx.lineWidth = width;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.rotate(pos);
    ctx.moveTo(0,0);
    ctx.lineTo(0,-length);
    ctx.strokeStyle = handGrad;
    ctx.stroke();

    ctx.beginPath();
    ctx.lineWidth = width * 0.5;
    ctx.moveTo(0,0);
    ctx.lineTo(0,-length);
    ctx.strokeStyle = '#ffffff';
    ctx.shadowColor = color;
    ctx.shadowBlur = 15;
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(0,-length,width*0.6,0,Math.PI*2);
    const endGrad = ctx.createRadialGradient(0,-length,0,0,-length,width*0.6);
    endGrad.addColorStop(0,'#ffffff');
    endGrad.addColorStop(0.4,color);
    endGrad.addColorStop(1,color);
    ctx.fillStyle = endGrad;
    ctx.shadowColor = color;
    ctx.shadowBlur = 18;
    ctx.fill();

    ctx.restore();
  }

  /* -------------------------
     ì´ˆê¸° ì„¸íŒ… + ì‹¤ì‹œê°„ ê²€ì¦
  -------------------------- */
  document.addEventListener('DOMContentLoaded', function(){
    document.getElementById('birth').value = uu + '-' + mm + '-' + dd;
    document.getElementById('checkDate').value = yy + '-' + mm + '-' + dd;

    ['birth','checkDate','life'].forEach(id=>{
      const el = document.getElementById(id);
      el.addEventListener('input', function(){
        if (this.value.trim()){
          this.classList.remove('error');
          this.classList.add('success');
        } else {
          this.classList.remove('error','success');
        }
      });
    });
  });
</script>

</body>
</html>
